from flask_wtf import FlaskForm
from wtforms import StringField, PasswordField, BooleanField, SubmitField, SelectField
from wtforms.validators import DataRequired, ValidationError, Email, EqualTo
from app.models import User



class LoginForm(FlaskForm):
# DataRequired: он проверяет, ввел ли пользователь хоть какую-информацию в поле.
    username = StringField('Username', validators=[DataRequired()])
    password = PasswordField('Password', validators=[DataRequired()])
    remember_me = BooleanField('Remember Me')
    submit = SubmitField('Sign In')

class AddfilmsForm(FlaskForm):
	film = StringField('Какой фильм Вы бы хотели добавить?',validators=[DataRequired()])
	submit = SubmitField('Добавить')

class SearchForm(FlaskForm):
	years=['1','1999','2003', '2006']
	ratings=['2','9.1', '3.3', '5.4']
	year = SelectField("Год: ", choices= [('none','none'),('1921', '1921'), ('1925', '1925'), ('1928', '1928'), ('1931', '1931'), ('1936', '1936'), ('1939', '1939'), ('1947', '1947'), ('1952', '1952'), ('1953', '1953'), ('1954', '1954'), ('1955', '1955'), ('1956', '1956'), ('1957', '1957'), ('1959', '1959'), ('1960', '1960'), ('1961', '1961'), ('1962', '1962'), ('1964', '1964'), ('1965', '1965'), ('1966', '1966'), ('1968', '1968'), ('1971', '1971'), ('1972', '1972'), ('1973', '1973'), ('1974', '1974'), ('1975', '1975'), ('1976', '1976'), ('1977', '1977'), ('1979', '1979'), ('1980', '1980'), ('1981', '1981'), ('1982', '1982'), ('1983', '1983'), ('1984', '1984'), ('1985', '1985'), ('1987', '1987'), ('1988', '1988'), ('1989', '1989'), ('1990', '1990'), ('1991', '1991'), ('1992', '1992'), ('1993', '1993'), ('1994', '1994'), ('1995', '1995'), ('1997', '1997'), ('1998', '1998'), ('1999', '1999'), ('2000', '2000'), ('2001', '2001'), ('2002', '2002'), ('2003', '2003'), ('2004', '2004'), ('2005', '2005'), ('2006', '2006'), ('2007', '2007'), ('2008', '2008'), ('2009', '2009'), ('2010', '2010'), ('2011', '2011'), ('2012', '2012'), ('2013', '2013'), ('2014', '2014'), ('2015', '2015'), ('2016', '2016'), ('2017', '2017'), ('2018', '2018'), ('2019', '2019')] ) 
	rating = SelectField('Рейтинг: ', choices= [('none','none'), ('7.806', '7.806'), ('7.821', '7.821'), ('7.882', '7.882'), ('7.917', '7.917'), ('7.934', '7.934'), ('7.935', '7.935'), ('7.936', '7.936'), ('7.938', '7.938'), ('7.939', '7.939'), ('7.941', '7.941'), ('7.942', '7.942'), ('7.948', '7.948'), ('7.957', '7.957'), ('7.958', '7.958'), ('7.96', '7.96'), ('7.961', '7.961'), ('7.967', '7.967'), ('7.97', '7.97'), ('7.971', '7.971'), ('7.977', '7.977'), ('7.981', '7.981'), ('7.984', '7.984'), ('7.985', '7.985'), ('7.988', '7.988'), ('7.993', '7.993'), ('7.996', '7.996'), ('8.002', '8.002'), ('8.007', '8.007'), ('8.008', '8.008'), ('8.011', '8.011'), ('8.015', '8.015'), ('8.016', '8.016'), ('8.018', '8.018'), ('8.019', '8.019'), ('8.023', '8.023'), ('8.024', '8.024'), ('8.025', '8.025'), ('8.026', '8.026'), ('8.028', '8.028'), ('8.029', '8.029'), ('8.031', '8.031'), ('8.033', '8.033'), ('8.034', '8.034'), ('8.035', '8.035'), ('8.041', '8.041'), ('8.045', '8.045'), ('8.047', '8.047'), ('8.049', '8.049'), ('8.05', '8.05'), ('8.051', '8.051'), ('8.053', '8.053'), ('8.056', '8.056'), ('8.057', '8.057'), ('8.06', '8.06'), ('8.063', '8.063'), ('8.065', '8.065'), ('8.066', '8.066'), ('8.069', '8.069'), ('8.07', '8.07'), ('8.074', '8.074'), ('8.075', '8.075'), ('8.076', '8.076'), ('8.077', '8.077'), ('8.081', '8.081'), ('8.082', '8.082'), ('8.084', '8.084'), ('8.088', '8.088'), ('8.089', '8.089'), ('8.091', '8.091'), ('8.092', '8.092'), ('8.093', '8.093'), ('8.096', '8.096'), ('8.099', '8.099'), ('8.103', '8.103'), ('8.104', '8.104'), ('8.107', '8.107'), ('8.11', '8.11'), ('8.112', '8.112'), ('8.113', '8.113'), ('8.115', '8.115'), ('8.117', '8.117'), ('8.121', '8.121'), ('8.123', '8.123'), ('8.126', '8.126'), ('8.127', '8.127'), ('8.129', '8.129'), ('8.131', '8.131'), ('8.137', '8.137'), ('8.138', '8.138'), ('8.139', '8.139'), ('8.144', '8.144'), ('8.149', '8.149'), ('8.15', '8.15'), ('8.152', '8.152'), ('8.154', '8.154'), ('8.16', '8.16'), ('8.161', '8.161'), ('8.164', '8.164'), ('8.165', '8.165'), ('8.167', '8.167'), ('8.168', '8.168'), ('8.17', '8.17'), ('8.172', '8.172'), ('8.173', '8.173'), ('8.174', '8.174'), ('8.177', '8.177'), ('8.178', '8.178'), ('8.181', '8.181'), ('8.182', '8.182'), ('8.188', '8.188'), ('8.189', '8.189'), ('8.192', '8.192'), ('8.2', '8.2'), ('8.202', '8.202'), ('8.203', '8.203'), ('8.204', '8.204'), ('8.21', '8.21'), ('8.213', '8.213'), ('8.23', '8.23'), ('8.232', '8.232'), ('8.24', '8.24'), ('8.244', '8.244'), ('8.246', '8.246'), ('8.248', '8.248'), ('8.251', '8.251'), ('8.252', '8.252'), ('8.253', '8.253'), ('8.255', '8.255'), ('8.258', '8.258'), ('8.263', '8.263'), ('8.269', '8.269'), ('8.272', '8.272'), ('8.274', '8.274'), ('8.276', '8.276'), ('8.277', '8.277'), ('8.278', '8.278'), ('8.28', '8.28'), ('8.288', '8.288'), ('8.29', '8.29'), ('8.293', '8.293'), ('8.295', '8.295'), ('8.296', '8.296'), ('8.305', '8.305'), ('8.307', '8.307'), ('8.309', '8.309'), ('8.328', '8.328'), ('8.33', '8.33'), ('8.331', '8.331'), ('8.334', '8.334'), ('8.339', '8.339'), ('8.343', '8.343'), ('8.348', '8.348'), ('8.355', '8.355'), ('8.356', '8.356'), ('8.365', '8.365'), ('8.368', '8.368'), ('8.371', '8.371'), ('8.374', '8.374'), ('8.378', '8.378'), ('8.379', '8.379'), ('8.381', '8.381'), ('8.384', '8.384'), ('8.413', '8.413'), ('8.423', '8.423'), ('8.434', '8.434'), ('8.438', '8.438'), ('8.449', '8.449'), ('8.452', '8.452'), ('8.455', '8.455'), ('8.457', '8.457'), ('8.46', '8.46'), ('8.462', '8.462'), ('8.49', '8.49'), ('8.493', '8.493'), ('8.499', '8.499'), ('8.503', '8.503'), ('8.505', '8.505'), ('8.51', '8.51'), ('8.513', '8.513'), ('8.516', '8.516'), ('8.523', '8.523'), ('8.524', '8.524'), ('8.526', '8.526'), ('8.536', '8.536'), ('8.541', '8.541'), ('8.547', '8.547'), ('8.555', '8.555'), ('8.566', '8.566'), ('8.57', '8.57'), ('8.576', '8.576'), ('8.577', '8.577'), ('8.591', '8.591'), ('8.599', '8.599'), ('8.608', '8.608'), ('8.619', '8.619'), ('8.623', '8.623'), ('8.624', '8.624'), ('8.626', '8.626'), ('8.629', '8.629'), ('8.645', '8.645'), ('8.662', '8.662'), ('8.666', '8.666'), ('8.681', '8.681'), ('8.709', '8.709'), ('8.712', '8.712'), ('8.732', '8.732'), ('8.772', '8.772'), ('8.782', '8.782'), ('8.807', '8.807'), ('8.817', '8.817'), ('8.913', '8.913'), ('9.062', '9.062'), ('9.111', '9.111')])
	submit = SubmitField('поиск по году')
	submit2 = SubmitField('поиск по рейтингу')
	
class RegistrationForm(FlaskForm):
    username = StringField('Username', validators=[DataRequired()])
    email = StringField('Email', validators=[DataRequired(), Email()])
    password = PasswordField('Password', validators=[DataRequired()])
    password2 = PasswordField(
        'Repeat Password', validators=[DataRequired(), EqualTo('password')])
    submit = SubmitField('Register')

    def validate_username(self, username):
        user = User.query.filter_by(username=username.data).first()
        if user is not None:
            raise ValidationError('Please use a different username.')

    def validate_email(self, email):
        user = User.query.filter_by(email=email.data).first()
        if user is not None:
            raise ValidationError('Please use a different email address.')